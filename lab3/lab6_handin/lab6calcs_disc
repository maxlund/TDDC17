
P(L) = 0.105
P(-L) = 0.895
P(W|L) = 0.9
P(W|-L) = 0.05
P(W) = P(W|L) * P(L) + P(W|-L) * P(-L) = 0.9 * 0.105 + 0.05 * 0.895 = 0.13925

P(L|W) = P(W|L) / P(W) * P(L) = 0.9 / 0.13925 * 0.105 = 0.67864

P(-L|W) = P(W|-L) / P(W) * P(-L) = 0.05 / 0.13925 * 0.895 = 0.32136

P(M|W) = P(M|L) * P(L|W) + P(M|-L) * P(-L|W) = 0.1 * 0.67864 + 0.001 * 0.32136 = 0.068



5. ------------------------------------------------------------
a) 
no observations, P(meltdown) = 0.02578
P(meltdown|icyweather) = 0.03472

b) 
The risk of a meltdown if there is an actual water leak and pump failure is greater since
the probability of a meltdown is conditioned by the variables 'water leak' and 'pump failure'.

P(Meltdown | PumpFailureWarning, WaterLeakWarning) = 0.15
P(Meltdown | PumpFailure, WaterLeak) = 0.20

c)
Because some of the probabilities are in practice impossible to estimate by observing live situations - they can only be estimated by doing artificial reconstructions of real life scenarios through experiments. How well these experiments mirror the real world scenarios might be hard to know for certain, such as those for Meltdown, PumpFailure or WaterLeak. Also, the variable IcyWeather might be hard to correctly estimate, since detailed conditions of weather is a notoriously difficult thing to predict. A third component is the cost of conducting the experiments, some might be very expensive.

d)
Changing the IcyWeather variable to Temperature would mean we don't have a binary set of values for the variable, but rather an interval of values for different temperatures. This would mean we need more observations in for the network to establish probabilities that are conditioned by the Temperature variable. One would need to discrete the temperature signal into a number of steps that are relevant for the purpose, e.g. in 50 C steps, or steam, liquid, frozen.

6. ------------------------------------------------------------
a)
The probability of all the possible outcomes.

b)
What is a joint probability distribution?
The probabilities of all combinations of values for the variables in the distribution. 

P(-Icy)=0.95
P(-PF)=0.9
P(-WL)=0.9
P(-PFW)=0.87
P(-WLW)=0.86
P(-M)=0.97

P(Meltdown=F, PumpFailureWarning=F, PumpFailure=F, WaterLeakWaring=F, WaterLeak=F, IcyWeather=F) = 
P(M=F|PF=F ^ WL=F)* P(-PF) * P(-PFW|-PF) * P(WLW=F|WL=F) * P(-WL|-Icy) * P(-Icy) = 
0.999 * 0.9 * 0.95 * 0.95 * 0.9 * 0.95 = 0.694

We can see that this is a common state for the nuclear plant to be in (almost 70% of the time).

c)
The probability of a meltdown when observing both a water leak and a pump failure is 20%. Meltdown is conditioned on water leak and a pump failure and it does not matter if water leak warning and a pump failure warning are changed,
since we have already observed that there is both a pump failure and water leak.

d)
"PumpFailureWarning=F, WaterLeak=F, WaterLeakWarning=F and IcyWeather=F but you are not really sure about a pump failure."

Since all values except PF are given, we know the probability for meltdown and not meltdown given these values and the only unknown variable is PumpFailure.
We sum all the combinations of P(M) and P(-M) with all the combinations of PumpFailure, combined with the probabilities of PumpFailure being the conditioned value.

a * (P(M | -WL, -IW, -WLW, -PFW, PF) * P(PF) + P(M | -WL, -IW, -WLW, -PFW, -PF) * P(-PF)) + a *(P(-M | -WL, -IW, -WLW, -PFW, PF) * P(PF) + P(-M | -WL, -IW, -WLW, -PFW, -PF) * P(-PF)) = 1

= a(0.15 * 0.01156 + 0.001 * 0.98844) + a(0.85 * 0.01156 + 0.999 * 0.98844) = 1 -> a = 1.0

P(PF) = 0.01156
P(-PF) = 0.98844

// -Meltdown
In [10]: (0.85 * 0.01156 + 0.999 * 0.98844)
Out[10]: 0.99727756

// Meltdown
In [11]: (0.15 * 0.01156 + 0.001 * 0.98844)
Out[11]: 0.00272244


P(X | e) = a * P(X, e) = a sum(P(X,e,y) where e is observed values and y is unknown values

P(Meltdown | -WL, -WLW, -IW) * P(-PumpFailureWarnning | PumpFailure) * P(-PumpFailureWarning | -PumpFailure)
P(-Meltdown | -WL, -WLW, -IW) * P(-PumpFailureWarnning | PumpFailure) * P(-PumpFailureWarning | -PumpFailure) 

P(Meltdown = T | PFW=F, WL=F, WLW=F, IW=F)
P(Meltdown = F | PFW=F, WL=F, WLW=F, IW=F)


Part III

1) - done

2) 
The probability of surviving decreases since the probability of the variable radio is conditioned by the variable battery - observing the value of radio as false raises the probability of not having battery, which in turn effects subsequent variables conditioned by the variable battery, making the probability of the variable 'survives' decrease.

-----

How does the bicycle change the owner's chances of survival? 
P(Survive) before bicycle = 0.99004
P(Survive after introducing the bicycle = 0.99506

We see that the probability of survival increases marginally after introducing the bicycle into the network.

---

It is possible to model any function in propositional logic with Bayesian Networks. What does this fact say about the complexity of exact inference in Bayesian Networks? What alternatives are there to exact inference? 

It can be very complex to do exact inference in a bayesian network, since it is at the same order of complexity as a SAT problem, i.e. the a problem that is 
not solvable in polynomial time since solving the problem takes O(2^n) time. Alternatives to exact inference would be relaxing the problem if you can tell that it is conditioned on something that is
very likely to be either false or true. 

2) 

b) Meltdown and pump failure warning are conditioned on Pump failure and independent of each other:
P(MeltDown, PumpFailureWarning|PumpFailure) = P(MeltDown|PumpFailure) * P(PumpFailureWarning|PumpFailure)
Ignition and Radio are conditioned on Battery but independent from each other:
P(Ignition, Radio|Battery) = P(Ignition|Battery) * P(Radio|Battery)  

Part IV

2.
a) Depending on the probabilities set for Mr.HS failing to react properly to the warnings, and depending on the new, lower probability for a pump failure with a new pump, a new and better pump could potentially compensate for Mr HS's lack of competence and reaction. However, when tuning the parameters in our model we found that a minor change of the experts reactivity and competence will reduce the probability more significantly than what a new pump can do.



